<ion-header>
  <ion-toolbar style="--background: #681380; --color: #ffffff">
    <ion-buttons slot="start">
      <ion-menu-button menu="main-menu"></ion-menu-button>
    </ion-buttons>
  </ion-toolbar>
</ion-header>

<ion-content class="ion-padding">
  <h1 class="ion-text-center" style="margin-top: 15px;"><strong>User Profile</strong></h1>

  <!-- âœ… Compact Profile Card -->
  <ion-card
    *ngIf="userProfile; else noUser"
    style="--background: #EAE4EB; width: 90%; max-width: 400px; margin: 20px auto; border-radius: 12px; box-shadow: 0 4px 8px rgba(0,0,0,0.1);"
  >
    <ion-card-content>
      <ion-item lines="none" style="--background: transparent;">
        <ion-label position="stacked"><strong>Name</strong></ion-label>
        <ion-input [(ngModel)]="userProfile.name" [disabled]="!isEditing"></ion-input>
      </ion-item>

      <ion-item lines="none" style="--background: transparent;">
        <ion-label position="stacked"><strong>Email (cannot edit)</strong></ion-label>
        <ion-input [(ngModel)]="userProfile.email" disabled></ion-input>
      </ion-item>

      <ion-item lines="none" style="--background: transparent;">
        <ion-label position="stacked"><strong>Username</strong></ion-label>
        <ion-input [(ngModel)]="userProfile.username" [disabled]="!isEditing"></ion-input>
      </ion-item>

      <ion-item lines="none" style="--background: transparent;">
        <ion-label position="stacked"><strong>Password</strong></ion-label>
        <ion-input
          type="password"
          [(ngModel)]="userProfile.password"
          [disabled]="!isEditing"
        ></ion-input>
      </ion-item>

      <div class="ion-padding">
        <ion-button
          *ngIf="!isEditing"
          expand="block"
          shape="round"
          style="--background: #681380; --color: #ffffff"
          (click)="enableEdit()"
        >
          Edit Profile
        </ion-button>

        <ion-button
          *ngIf="isEditing"
          expand="block"
          shape="round"
          style="--background: #681380; --color: #ffffff"
          (click)="saveProfile()"
        >
          Save Changes
        </ion-button>
      </div>
    </ion-card-content>
  </ion-card>

  <!-- ðŸŸ¡ No User Found Template -->
  <ng-template #noUser>
    <ion-card
      style="--background: #EAE4EB; width: 90%; max-width: 400px; margin: 20px auto; border-radius: 12px; box-shadow: 0 4px 8px rgba(0,0,0,0.1);"
    >
      <ion-card-content class="ion-text-center">
        <ion-icon name="person-circle-outline" size="large" color="medium"></ion-icon>
        <p style="margin-top: 8px; color: gray; font-size: 1.1em;">
          No profile found.
        </p>
      </ion-card-content>
    </ion-card>
  </ng-template>
</ion-content>

<!-- ===== FOOTER NAVIGATION ===== -->
<ion-footer>
  <ion-toolbar>
    <ion-buttons slot="start" class="footer-buttons">
      <ion-button routerLink="/main">
        <ion-icon slot="icon-only" name="home-outline"></ion-icon>
      </ion-button>

      <ion-button routerLink="/attendance">
        <ion-icon slot="icon-only" name="pencil-outline"></ion-icon>
      </ion-button>

      <ion-button routerLink="/media">
        <ion-icon slot="icon-only" name="images-outline"></ion-icon>
      </ion-button>

      <ion-button routerLink="/feedback">
        <ion-icon slot="icon-only" name="chatbox-outline"></ion-icon>
      </ion-button>

      <ion-button routerLink="/profile" >
        <ion-icon slot="icon-only" name="person-outline"></ion-icon>
      </ion-button>

      <ion-button routerLink="/login">
        <ion-icon slot="icon-only" name="log-out-outline"></ion-icon>
      </ion-button>
    </ion-buttons>
  </ion-toolbar>
</ion-footer>
